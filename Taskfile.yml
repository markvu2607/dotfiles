version: '3'

vars:
  PACKAGES: stow bat zellij

tasks:
  default:
    desc: "Install everything (Packages + Dotfiles)"
    cmds:
      - task: install-packages
      - task: stow-dotfiles
      - echo "âœ… Setup complete! Please restart your terminal or run 'exec zsh'."

  install-packages:
    desc: "Install system packages via DNF"
    cmds:
      - echo "ðŸ“¦ Installing packages..."
      - sudo dnf install -y {{.PACKAGES}}
    status:
      - command -v stow

  stow-dotfiles:
    desc: "Symlink dotfiles using GNU Stow from the root"
    cmds:
      - echo "ðŸ”— Linking dotfiles..."
      - stow -v -R -t "$HOME" .